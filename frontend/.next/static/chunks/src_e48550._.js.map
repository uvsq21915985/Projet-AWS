{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/33685/Projet-AWS/frontend/src/shared/API_ROUTE.ts"],"sourcesContent":["export const API_ROUTE = {\r\n    login: \"http://ec2-34-224-60-168.compute-1.amazonaws.com:8000/api/login/\",\r\n    register: \"http://ec2-34-224-60-168.compute-1.amazonaws.com:8000/api/register/\",\r\n    validate:\"http://ec2-34-224-60-168.compute-1.amazonaws.com:8000/api/validate/\"\r\n}"],"names":[],"mappings":";;;AAAO,MAAM,YAAY;IACrB,OAAO;IACP,UAAU;IACV,UAAS;AACb"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/33685/Projet-AWS/frontend/src/services/auth.ts"],"sourcesContent":["import { API_ROUTE } from \"@/shared/API_ROUTE\";\r\nimport { error } from \"console\";\r\nimport { ZCOOL_XiaoWei } from \"next/font/google\";\r\n\r\nexport async function login(data: FormData){\r\n    return fetch(\r\n        API_ROUTE.login, {\r\n        method: \"POST\",\r\n        headers: {\r\n                'Content-Type': 'application/json'\r\n              },\r\n        body: JSON.stringify({\r\n            username: String(data.get(\"email\")),\r\n            password: String(data.get(\"password\"))\r\n        })\r\n    });\r\n}\r\n\r\nexport async function register(data: FormData){\r\n    return fetch(\r\n        API_ROUTE.register, {\r\n        body: data\r\n    });\r\n}\r\n\r\n// to validate a user using the token stored in the local storage ( for now )\r\nexport async function validate(token: String){\r\n\r\n    return fetch(API_ROUTE.validate,{\r\n         method: \"GET\",\r\n         headers: {\r\n            \"Authorization\": \"Token \"+token,\r\n            'Content-Type': 'application/json'\r\n          },\r\n        redirect: \"follow\"\r\n    });\r\n}\r\n\r\n/**the response to validate function has this structure \r\n * for example\r\n * {\r\n    \"is_allowed\": true,\r\n    \"user\": {\r\n        \"id\": 9,\r\n        \"username\": \"user@free.fr\"\r\n    }\r\n}\r\n * \r\n * \r\n */\r\n\r\n\r\nexport async function getUserName(){\r\n    let token = localStorage.getItem(\"token\");\r\n    if (token){\r\n    let  res = await validate(token);\r\n    if (res.ok){\r\n        let json = await res.json();\r\n        return json.user.username;\r\n        // need to add some management for error\r\n    }\r\n    }\r\n    // error need to be managed\r\n    else{return \"\";}\r\n\r\n}"],"names":[],"mappings":";;;;;;AAAA;;AAIO,eAAe,MAAM,IAAc;IACtC,OAAO,MACH,6HAAA,CAAA,YAAS,CAAC,KAAK,EAAE;QACjB,QAAQ;QACR,SAAS;YACD,gBAAgB;QAClB;QACN,MAAM,KAAK,SAAS,CAAC;YACjB,UAAU,OAAO,KAAK,GAAG,CAAC;YAC1B,UAAU,OAAO,KAAK,GAAG,CAAC;QAC9B;IACJ;AACJ;AAEO,eAAe,SAAS,IAAc;IACzC,OAAO,MACH,6HAAA,CAAA,YAAS,CAAC,QAAQ,EAAE;QACpB,MAAM;IACV;AACJ;AAGO,eAAe,SAAS,KAAa;IAExC,OAAO,MAAM,6HAAA,CAAA,YAAS,CAAC,QAAQ,EAAC;QAC3B,QAAQ;QACR,SAAS;YACN,iBAAiB,WAAS;YAC1B,gBAAgB;QAClB;QACF,UAAU;IACd;AACJ;AAgBO,eAAe;IAClB,IAAI,QAAQ,aAAa,OAAO,CAAC;IACjC,IAAI,OAAM;QACV,IAAK,MAAM,MAAM,SAAS;QAC1B,IAAI,IAAI,EAAE,EAAC;YACP,IAAI,OAAO,MAAM,IAAI,IAAI;YACzB,OAAO,KAAK,IAAI,CAAC,QAAQ;QACzB,wCAAwC;QAC5C;IACA,OAEI;QAAC,OAAO;IAAG;AAEnB"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/33685/Projet-AWS/frontend/src/app/%28layout-app%29/auth/register/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\";\r\nimport \"./register.css\"\r\nimport { useState } from \"react\";\r\nimport { register } from \"@/services/auth\";\r\n\r\n\r\nexport default function Login() {\r\n        const [pending, setPending] = useState<boolean>(false)\r\n        const [email, setEmail] = useState<string>('');\r\n        const [firstname, setFirstname] = useState<string>('');\r\n        const [lastname, setLastname] = useState<string>('');\r\n        const [password, setPassword] = useState<string>('');\r\n        const [error, setError] = useState<string|null>(null);\r\n    \r\n        const handleSubmit = async (e: FormData) => {\r\n            if (pending) {\r\n                return \r\n            }\r\n            setPending(true)\r\n            try {\r\n                let res = await register(e);\r\n            } catch (error) {\r\n                setTimeout(() => setError(null), 1500)\r\n                setError(\"Certain champ sont mal rempli !\")\r\n            }\r\n            setPending(false)\r\n        }\r\n\r\n    return (\r\n      <div className=\"auth container\">\r\n        <div className=\"auth-wrapper\">\r\n        <h1>S'inscrire</h1>\r\n        <p>S'inscrire pour passer des appels d'une autre maniere</p>\r\n        {error && <p className=\"message msg-error text-center\">{error}</p>}\r\n        <form action={handleSubmit} method=\"post\">\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"firstname\" className=\"form-label\">Nom</label>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" name=\"firstname\" required value={firstname} onChange={(e) => setFirstname(e.target.value)} id=\"firstname\" autoComplete=\"false\" placeholder=\"ex: mymeet\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"lastname\" className=\"form-label\">Prenom</label>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" name=\"lastname\" required value={lastname} onChange={(e) => setLastname(e.target.value)} id=\"lastname\" autoComplete=\"false\" placeholder=\"ex: mymeet\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"email\" className=\"form-label\">Email</label>\r\n                <div className=\"form-input\">\r\n                    <input type=\"email\" name=\"email\" required value={email} onChange={(e) => setEmail(e.target.value)} id=\"email\" autoComplete=\"false\" placeholder=\"ex: mymeet@gmail.com\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label htmlFor=\"password\" className=\"form-label\">Mot de passe</label>\r\n                <div className=\"form-input\">\r\n                    <input type=\"password\" required value={password} onChange={(e) => setPassword(e.target.value)} name=\"password\" autoComplete=\"false\" id=\"password\" placeholder=\"votre mot de passe\" />\r\n                </div>\r\n            </div>\r\n\r\n            <button className={\"btn btn-main jc-c ai-c \"+(pending ? \"disable\" : \"\")} type=\"submit\">{pending ? \"Loading...\" : \"S'inscrire\"}</button>\r\n            <Link href={\"/auth/login\"}>Deja membre ? <span className=\"clr_main\">se connecter</span></Link>\r\n        </form>\r\n      </div>\r\n      </div>\r\n    );\r\n  }"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;;;AALA;;;;;AAQe,SAAS;;IAChB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAU;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAEhD,MAAM,eAAe,OAAO;QACxB,IAAI,SAAS;YACT;QACJ;QACA,WAAW;QACX,IAAI;YACA,IAAI,MAAM,MAAM,CAAA,GAAA,0HAAA,CAAA,WAAQ,AAAD,EAAE;QAC7B,EAAE,OAAO,OAAO;YACZ,WAAW,IAAM,SAAS,OAAO;YACjC,SAAS;QACb;QACA,WAAW;IACf;IAEJ,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACf,6LAAC;8BAAG;;;;;;8BACJ,6LAAC;8BAAE;;;;;;gBACF,uBAAS,6LAAC;oBAAE,WAAU;8BAAiC;;;;;;8BACxD,6LAAC;oBAAK,QAAQ;oBAAc,QAAO;;sCAC/B,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAM,SAAQ;oCAAY,WAAU;8CAAa;;;;;;8CAClD,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCAAM,MAAK;wCAAO,MAAK;wCAAY,QAAQ;wCAAC,OAAO;wCAAW,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wCAAG,IAAG;wCAAY,cAAa;wCAAQ,aAAY;;;;;;;;;;;;;;;;;sCAGtK,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAAa;;;;;;8CACjD,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCAAM,MAAK;wCAAO,MAAK;wCAAW,QAAQ;wCAAC,OAAO;wCAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAAG,IAAG;wCAAW,cAAa;wCAAQ,aAAY;;;;;;;;;;;;;;;;;sCAGlK,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAAa;;;;;;8CAC9C,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCAAM,MAAK;wCAAQ,MAAK;wCAAQ,QAAQ;wCAAC,OAAO;wCAAO,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCAAG,IAAG;wCAAQ,cAAa;wCAAQ,aAAY;;;;;;;;;;;;;;;;;sCAGvJ,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAAa;;;;;;8CACjD,6LAAC;oCAAI,WAAU;8CACX,cAAA,6LAAC;wCAAM,MAAK;wCAAW,QAAQ;wCAAC,OAAO;wCAAU,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAAG,MAAK;wCAAW,cAAa;wCAAQ,IAAG;wCAAW,aAAY;;;;;;;;;;;;;;;;;sCAItK,6LAAC;4BAAO,WAAW,4BAA0B,CAAC,UAAU,YAAY,EAAE;4BAAG,MAAK;sCAAU,UAAU,eAAe;;;;;;sCACjH,6LAAC,+JAAA,CAAA,UAAI;4BAAC,MAAM;;gCAAe;8CAAc,6LAAC;oCAAK,WAAU;8CAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAK9E;GA5DsB;KAAA"}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}